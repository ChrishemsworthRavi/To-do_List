<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do List</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900 transition-colors duration-300">
    <div class="max-w-md mx-auto mt-10 bg-white p-6 rounded-lg shadow-lg">
        <h2 class="text-3xl font-bold text-center mb-4 text-blue-600 animate-pulse">To-Do List</h2>
        <div class="flex gap-2">
            <input type="text" id="taskInput" placeholder="Add a new task" class="flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-all duration-300">
            <button onclick="addTask()" class="bg-blue-500 text-black px-4 py-2 rounded-lg hover:bg-blue-600 transition-transform transform hover:scale-105">Add</button>
        </div>
        <button onclick="toggleTheme()" class="mt-4 w-full bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-transform transform hover:scale-105">Toggle Theme</button>
        <ul id="taskList" class="mt-4 space-y-2"></ul>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", loadTasks);

        function addTask() {
            let taskInput = document.getElementById("taskInput");
            let taskText = taskInput.value.trim();
            if (taskText === "") return;

            let taskList = document.getElementById("taskList");
            let li = document.createElement("li");
            li.className = "flex justify-between items-center bg-gray-200 px-3 py-2 rounded-lg shadow-md transition-all duration-300 transform hover:scale-105";
            li.innerHTML = `
                <div class="flex items-center gap-2">
                    <button onclick="toggleComplete(this)" class="task-checkbox w-6 h-6 border-2 border-gray-400 rounded-full flex items-center justify-center text-transparent transition-all duration-300">✓</button>
                    <span class="task-text">${taskText}</span>
                </div>
                <button onclick="removeTask(this)" class="bg-red-500 text-white px-2 py-1 rounded-lg hover:bg-red-600 transition-all duration-300">X</button>`;
            taskList.appendChild(li);

            li.classList.add("animate-fadeIn");
            saveTasks();
            taskInput.value = "";
        }

        function removeTask(button) {
            let li = button.parentElement;
            li.classList.add("animate-fadeOut");
            setTimeout(() => {
                li.remove();
                saveTasks();
            }, 300);
        }

        function toggleComplete(button) {
            let taskText = button.nextElementSibling;
            if (button.classList.contains("bg-green-500")) {
                button.classList.remove("bg-green-500", "text-white");
                button.classList.add("border-gray-400", "text-transparent");
                taskText.classList.remove("line-through", "text-gray-500", "opacity-50");
            } else {
                button.classList.remove("border-gray-400", "text-transparent");
                button.classList.add("bg-green-500", "text-white");
                taskText.classList.add("line-through", "text-gray-500", "opacity-50");
            }
            saveTasks();
        }

        function saveTasks() {
            let tasks = [];
            document.querySelectorAll("#taskList li").forEach(li => {
                let taskText = li.querySelector(".task-text").innerText;
                let completed = li.querySelector(".task-checkbox").classList.contains("bg-green-500");
                tasks.push({ text: taskText, completed: completed });
            });
            localStorage.setItem("tasks", JSON.stringify(tasks));
        }

        function loadTasks() {
            let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
            tasks.forEach(task => {
                let li = document.createElement("li");
                li.className = "flex justify-between items-center bg-gray-200 px-3 py-2 rounded-lg shadow-md transition-all duration-300 transform hover:scale-105";
                li.innerHTML = `
                    <div class="flex items-center gap-2">
                        <button onclick="toggleComplete(this)" class="task-checkbox w-6 h-6 border-2 ${task.completed ? 'bg-green-500 text-white' : 'border-gray-400 text-transparent'} rounded-full flex items-center justify-center transition-all duration-300">✓</button>
                        <span class="task-text ${task.completed ? 'line-through text-gray-500 opacity-50' : ''}">${task.text}</span>
                    </div>
                    <button onclick="removeTask(this)" class="bg-red-500 text-white px-2 py-1 rounded-lg hover:bg-red-600 transition-all duration-300">X</button>`;
                document.getElementById("taskList").appendChild(li);
            });
        }

        function toggleTheme() {
            document.body.classList.toggle("bg-gray-900");
            document.body.classList.toggle("text-black");
        }
    </script>

    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-10px); }
        }

        .animate-fadeIn {
            animation: fadeIn 0.3s ease-in-out;
        }

        .animate-fadeOut {
            animation: fadeOut 0.3s ease-in-out;
        }
    </style>
</body>
</html>